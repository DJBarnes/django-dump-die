{% load dump_die %}

{% if simple %} {# If simple object, just spit out. #}

  <code class="{{ css_class }}">{{ simple }}</code>

{% elif object %} {# Else if an actual object to process #}

  <span class="type" title="{{ type }}">{{ type }}{% if is_iterable %}:{{ object|length }}{% endif %}</span>
  {{ braces.0 }}
  <a class="arrow-toggle" title="[Ctrl+click] Expand all children" data-toggle="collapse" data-target=".{{ unique }}" aria-label="Close">
    <span class="unique">{{ unique }}</span>
    <span id="arrow-{{ unique }}" class="arrow">
      {% if attribute_types_start_expanded %}
        ▼
      {% else %}
        ▶
      {% endif %}
    </span>
  </a>
  <div
    class="
      dd-wrapper
      collapse
      {{ unique }}
      {% if attribute_types_start_expanded %}
        show
      {% endif %}
    "
    data-unique="{{ unique }}"
  >

    <ul class="attribute-list">
      {% if include_attributes %}
        {% include "django_dump_die/_attributes.html" %}
      {% endif %}
    </ul>
    <ul class="attribute-list">
      {% if include_functions %}
        {% include "django_dump_die/_functions.html" %}
      {% endif %}
    </ul>
  </div>
  {{ braces.1 }}

{% else %} {# Else, must be skipped or past max thresholds but still object. #}

  <span class="type" title="{{ type }}">{{ type }}</span>
  {{ braces.0 }}
  <a title="Already output or skipped object">
    <span class="unique">{{ unique }}</span>
  </a>
  {{ braces.1 }}

{% endif %}
