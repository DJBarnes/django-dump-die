{% load dump_die static %}
<!DOCTYPE html>


<html lang="en">
  <meta charset="utf-8">
  <head>
    <!-- Required Libraries -->
    <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon"> {# Prevent chrome from requesting page again #}
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'django_dump_die/css/dd.css' %}">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="{% static 'django_dump_die/js/dd.js' %}"></script>

    <title>DD</title>

    {# If user wants changes to the color them, include a partial to generate needed css. #}
    {% if force_light_theme or force_dark_theme or custom_color_theme %}
        {% include 'django_dump_die/_custom_color_theme.html' %}
    {% endif %}
  </head>

  <body>
    {# for each object to output #}
    {% for filename, linenumber, obj_name, obj, function_doc, root_index_start, root_index_end, original_obj in objects %}

      {# If it is not the first object, add a horizontal line to separate #}
      {% if not forloop.first %}<hr>{% endif %}

      <div class="dump-wrapper">
        {% if filename and linenumber %}
          <span title="Dumped From Location" class="location">File: {{ filename }}, Line: {{ linenumber }}</span><br>
        {% endif %}

        {# If dumped object has function_docs, assume function. Otherwise object. #}
        {% if function_doc %}

          {# Display the name of the dumped object so long as not None #}
          {% if obj_name is not None %}
            <span title="Dumped Function" class="function">{{ obj_name }}</span>:
          {% else %}
            <span title="Dumped Function" class="empty">Unknown Function</span>:
          {% endif %}

          {# Handle function doc output. #}
          {% if multiline_function_docs %}
            <span class="docs indent-docs">{{ function_doc|linebreaks }}</span>
          {% else  %}
            <span class="docs">{{ function_doc }}</span>
          {% endif %}

        {% else %}

          {# Display the name of the dumped object so long as not None #}
          {% if obj_name is not None %}
            <span class="dumped_name" title="Dumped Object">{{ obj_name }}</span>:
          {% endif %}
          {# Use dd_object template tag to dump object #}
          {% dd_object obj obj None forloop.counter0 0 root_index_start root_index_end original_obj %}

        {% endif %}
      </div>
    {% endfor %}
  </body>
</html>
