{% load dump_die %}
<a class="arrow-toggle" title="[Ctrl+click] Expand all children" data-toggle="collapse" data-target=".{{ unique }}-attributes" aria-label="Open/Close">
  <span>Attributes</span>
  <span id="arrow-{{ unique }}-attributes" class="arrow">
    {% if attributes_start_expanded %}
      ▼
    {% else %}
      ▶
    {% endif %}
  </span>
</a>
<div
  class="
    li-wrapper
    collapse
    {{ unique }}-attributes
    {% if attributes_start_expanded %}
      show
    {% endif %}
  "
  data-unique-attributes="{{ unique }}-attributes"
>
  {% for attr, value in attributes %}
    <li>
      {% with depth|add:'1' as new_depth %}

        {% is_const attr as is_const %}
        {% is_number attr as is_number %}
        {% is_key attr as is_key %}
        {% is_magic attr as is_magic %}
        {% is_private attr as is_private %}

        {% if is_const %}
          <span class="access-modifier">
            {% if is_magic %}-{% else %}{% if is_private %}#{% else %}+{% endif %}{% endif %}
          </span>
          <span class="constant" title="Contant">{{ attr }}</span>:
        {% elif is_key %}
          <span class="key" title="Key">{{ attr }}</span>:
        {% elif is_number %}
          <span class="index" title="Index">{{ attr }}</span>:
        {% elif attr is not None %}
          <span class="access-modifier">
            {% if is_magic %}-{% else %}{% if is_private %}#{% else %}+{% endif %}{% endif %}
          </span>
          <span class="attribute" title="Attribute">{{ attr }}</span>:
        {% endif %}
        {% dd_object value skip forloop.counter new_depth %}
      {% endwith %}
    </li>
  {% empty %}
    <span class="empty" title="No Attributes">No Attributes</span>
  {% endfor %}
</div>